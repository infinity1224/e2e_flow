```mermaid
graph TD
    A[Code Push to GitHub] -->|Webhook| B{Jenkins CI}
    B --> C[Terraform: Select Workspace Dev/QA/Prod]
    C --> D[Terraform Apply: KOPS Cluster & Namespaces]
    D --> E[Build Docker Image]
    E --> F[Push to Docker Hub]
    F --> G[Update Manifests]
    G --> H{ArgoCD Deploys}

    subgraph Dev/QA
        H --> I[Deploy to Dev Namespace]
        H --> J[Deploy to QA Namespace]
        I --> K[Tests & Monitoring]
        J --> K
    end

    subgraph Prod Blue-Green
        H --> L[Deploy to Prod-Green]
        L --> M[Tests & Monitoring]
        M -->|Validated| N[Switch ALB to Prod-Green]
        N --> O[Prod-Green Live]
        O -->|Issues| P[Revert to Prod-Blue]
        L --> Q[Prod-Blue Fallback]
    end

    subgraph AWS
        D --> R[KOPS Cluster]
        R --> S[AWS ALB]
        S --> T[Prod-Blue Service]
        S --> U[Prod-Green Service]
        R --> V[S3 Backend & DynamoDB Lock]
    end
```
